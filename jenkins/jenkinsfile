pipeline {
    agent {
        label "docker-agent"   
    }
    options {
        timeout(time: 1, unit: 'HOURS')
        buildDiscarder(logRotator(numToKeepStr: '1')) 
    }
    stages {
      stage("App Code Checkout"){
        steps{ 
          git branch:'master', url:'https://github.com/prateekkumawat/jenkins-weekend-repo.git'
        }
      }  

      stage("Build Docker Image") {
        steps {
            sh 'docker build -t spring:v1 . ' 
        }  
      }
    }

}